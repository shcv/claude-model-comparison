Implement the following plan:

# Plan: Go hook binary + TCP support

Replace the bash hook script (socat + jq deps) with a compiled Go binary.
Add TCP listener (port 31337) alongside Unix socket.

## New binary: `cmd/claude-coder-hook/main.go`

Small Go program that:
1. Reads JSON from stdin (Claude Code hook input)
2. Parses `tool_name` and `tool_input` using `encoding/json`
3. Builds task JSON (same format as current bash hook)
4. Connects to game server (try Unix socket, then TCP)
5. Sends JSON line, reads until connection closed (blocks)
6. Exits 0

Address discovery order:
1. `CLAUDE_CODER_ADDR` env var (supports `host:port` or socket path)
2. Unix socket at `$XDG_RUNTIME_DIR/claude-coder.sock`
3. `127.0.0.1:31337`

No external deps — just stdlib `net`, `encoding/json`, `os`.

## `internal/server/server.go` changes

Listen on **both** Unix socket and TCP simultaneously:
- Unix socket: same path as now (for local zero-config)
- TCP: `127.0.0.1:31337` default, `-addr` flag to override
- Both feed into the same `handleConn` / queue
- `Start()` launches two accept loops

Add `Addr` field to Server struct, expose actual TCP listener address.

## `internal/config/config.go` changes

- Add `Addr string` field
- Add `-addr` flag (default `127.0.0.1:31337`)
- Keep `-socket` flag for Unix socket path

## `internal/config/detect.go` changes

- Remove `socat` and `jq` checks (no longer needed)
- Add check for hook binary instead of hook script
- Check for `claude-coder-hook` next to main binary, then in PATH

## `internal/config/install.go` changes

- `FindHookScript()` → `FindHookBinary()`: look for `claude-coder-hook`
- Update command in settings to point to Go binary instead of bash script

## `hooks/claude-coder-hook.sh`

Keep for backwards compat but no longer the primary hook.
The installer will prefer the Go binary.

## `Makefile` changes

```make
claude-coder-hook: cmd/claude-coder-hook/main.go
	go build -o $@ ./cmd/claude-coder-hook/

game: claude-coder claude-coder-hook

install: game
	install -m 755 claude-coder $(PREFIX)/bin/
	install -m 755 claude-coder-hook $(PREFIX)/bin/
```

## `cmd/claude-coder/main.go` changes

Pass `cfg.Addr` to server. Server now starts both listeners.

## Files to create
- `cmd/claude-coder-hook/main.go`

## Files to modify
- `internal/server/server.go` — add TCP listener
- `internal/config/config.go` — add Addr flag
- `internal/config/detect.go` — remove socat/jq checks, add hook binary check
- `internal/config/install.go` — find/install Go binary
- `cmd/claude-coder/main.go` — pass addr to server
- `Makefile` — build hook binary

## Verification

1. `make game` builds both `claude-coder` and `claude-coder-hook`
2. Start game, run hook manually: `echo '{"tool_name":"Bash","tool_input":{"command":"echo hi"}}' | ./claude-coder-hook` — blocks until task completed in game
3. `CLAUDE_CODER_ADDR=127.0.0.1:31337` works for remote forwarding
4. Unix socket still works as fallback
5. No socat/jq required


If you need specific details from before exiting plan mode (like exact code snippets, error messages, or content you generated), read the full transcript at: /home/shcv/.claude/projects/-home-shcv-projects-claude-coder/c4f4f555-a30d-48a9-8645-b39cfe556908.jsonl
